# Веб-дашборд умного КПП

Полнофункциональный веб-дашборд для управления умным контрольно-пропускным пунктом (КПП).

## Структура проекта

- `backend/` - Node.js/Express сервер с REST API
- `frontend/` - React приложение с современным UI

## Функционал

### 1. Видеонаблюдение
- Отображение видеопотока с камер
- Работа с номерами транспортных средств
- История проездов
- Добавление и отклонение записей

### 2. База данных
- Управление записями пользователей
- Добавление новых записей
- Редактирование существующих записей
- Фильтрация и поиск

### 3. Заявки
- Просмотр всех заявок на доступ
- Фильтрация по статусу, дате, заявителю
- Одобрение/отклонение заявок

### 4. Статистика
- Статистика за сегодня
- Въезды/выезды
- Заявки и отказы
- Текущее количество на территории

### 5. Аналитика
- Нагрузка на КПП по категориям (Резидент, Гость, Такси)
- Статистика по часам (заготовка для графика)

## Установка и запуск

### Бэкенд

```bash
cd backend
npm install
npm run dev
```

Бэкенд будет доступен на http://localhost:3001

### Фронтенд

```bash
cd frontend
npm install
npm run dev
```

Фронтенд будет доступен на http://localhost:3000

## API Endpoints

### Видеонаблюдение
- `GET /api/video/current` - получить текущее транспортное средство
- `GET /api/video/history` - получить историю
- `POST /api/video/entry` - добавить въезд
- `POST /api/video/exit` - добавить выезд
- `POST /api/video/reject` - отклонить

### База данных
- `GET /api/database` - получить все записи
- `GET /api/database/:id` - получить запись по ID
- `POST /api/database` - создать запись
- `PUT /api/database/:id` - обновить запись
- `DELETE /api/database/:id` - удалить запись

### Заявки
- `GET /api/applications` - получить все заявки (с фильтрами)
- `GET /api/applications/:id` - получить заявку по ID
- `POST /api/applications/:id/approve` - одобрить заявку
- `POST /api/applications/:id/reject` - отклонить заявку

### Статистика
- `GET /api/statistics/today` - получить статистику за сегодня
- `POST /api/statistics` - обновить статистику

### Аналитика
- `GET /api/analytics` - получить аналитику
- `GET /api/analytics/load` - получить нагрузку на КПП
- `GET /api/analytics/hourly` - получить статистику по часам

## Технологии

### Бэкенд
- Node.js
- Express
- TypeScript

### Фронтенд
- React
- TypeScript
- Vite
- Axios
- CSS3

## Примечания

В текущей версии используются моковые данные. Для продакшн версии необходимо подключить реальную базу данных (например, PostgreSQL или MongoDB) и настроить интеграцию с камерами видеонаблюдения.
